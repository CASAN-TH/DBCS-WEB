
<div *ngIf="proposalData">
  <div fxLayout="column">
    <div fxLayout="row" fxLayoutAlign="center">
      <div fxFlex="50" fxLayoutAlign="end">
        <p>กผง.003/3</p>
      </div>
    </div>
    <div fxLayout="row" fxLayoutAlign="center">
      <div fxFlex="48" fxLayoutAlign="end">
        <p>ทั่วไป</p>
      </div>
    </div>

    <div fxLayout="row" fxLayoutAlign="center">
      <h2>แบบประมาณการ</h2>
    </div>

    <div fxLayout="row" fxLayoutAlign="center">
      <div fxFlex="10" fxLayoutAlign="start">
        <p>หน่วยงาน</p>
      </div>
      <div fxFlex="50" fxFlex.gt-sm="40" fxLayoutAlign="start">
        <p>
          <span class="pl-20">{{proposalData.data.deptname}}</span>
        </p>
      </div>
    </div>

    <div fxLayout="row" fxLayoutAlign="center">
      <div fxFlex="10" fxLayoutAlign="start">
        <p>กลุ่ม/ฝ่าย </p>
      </div>
      <div fxFlex="50" fxFlex.gt-sm="40" fxLayoutAlign="start">
        <p>
          <span class="pl-20">{{proposalData.data.groupname}}</span>
        </p>
      </div>
    </div>



    <div fxLayout="row" fxLayoutAlign="center">
      <div fxFlex="10" fxLayoutAlign="start">
        <p>รายการ</p>
      </div>
      <div fxFlex="50" fxFlex.gt-sm="40" fxLayoutAlign="start">
        <p>
          <span class="pl-20">{{proposalData.data.name}}</span>
        </p>
      </div>
    </div>
    <div fxLayout="row" fxLayoutAlign="center">
      <div fxFlex="10" fxLayoutAlign="start">
        <p>แผนงาน</p>
      </div>
      <div fxFlex="50" fxFlex.gt-sm="40" fxLayoutAlign="start">
        <p>
          <span class="pl-20">{{proposalData.data.planname}}</span>
        </p>
      </div>
    </div>
    <div fxLayout="row" fxLayoutAlign="center">
      <div fxFlex="10" fxLayoutAlign="start">
        <p>ผลผลิต/โครงการ</p>
      </div>
      <div fxFlex="50" fxFlex.gt-sm="40" fxLayoutAlign="start">
        <p>
          <span class="pl-20">{{proposalData.data.projectname}}</span>
        </p>
      </div>
    </div>
    <div fxLayout="row" fxLayoutAlign="center">
      <div fxFlex="10" fxLayoutAlign="start">
        <p>กิจกรรม</p>
      </div>
      <div fxFlex="50" fxFlex.gt-sm="40" fxLayoutAlign="start">
        <p>
          <span class="pl-20">{{proposalData.data.activityname}}</span>
        </p>
      </div>
    </div>
    <div fxLayout="row" fxLayoutAlign="center">
      <div fxFlex="10" fxLayoutAlign="start">
        <p>ประเภทรายจ่าย</p>
      </div>
      <div fxFlex="50" fxFlex.gt-sm="40" fxLayoutAlign="start">
        <p>
          <span class="pl-20">{{proposalData.data.sourcename}}</span>
        </p>
      </div>
    </div>
    <div fxLayout="row" fxLayoutAlign="center">
      <div fxFlex="10" fxLayoutAlign="start">
        <p>รวมเงิน</p>
      </div>
      <div fxFlex="50" fxFlex.gt-sm="40" fxLayoutAlign="start">
        <p>
          <span class="pl-20">{{proposalData.data.budgetsummary}} บาท</span>
        </p>
      </div>
    </div>
    <div fxLayout="row" fxLayoutAlign="center">
      <div fxFlex="10" fxLayoutAlign="start">

      </div>
      <div fxFlex="50" fxFlex.gt-sm="40" fxLayoutAlign="start">
        <p>
          <span class="pl-20">({{proposalData.data.budgetsummarytext}})</span>
        </p>
      </div>
    </div>

    <div fxLayout="row" fxLayoutAlign="center">
      <hr hr width=50% size=5 color=black>
    </div>

    <div fxLayout="row" fxLayoutAlign="center">
      <p>คำชี้แจง</p>
    </div>

    <div fxLayout="row" fxLayoutAlign="center">
      <div fxFlex="50">
        <p>เรียน ลธน. ผ่าน ผอ.สลธ.</p>
        <p class="text-indent">
          ประมาณการฉบับนี้ตั้งขึ้นเพื่อควบคุมค่าใช้จ่ายในโครงการ {{proposalData.data.name}}
        </p>
        <p class="text-indent">
          ตามพระราชบัญญัติทรัพยากรน้ำ พ.ศ. 2561 กำหนดให้สำนักงานมีการจัดทำ "ผังน้ำ"
          เพื่อเสนอให้กับคณะกรรมการทรัพยากรน้ำแห่งชาติ ภายในวัน
        </p>
        <p class="text-indent">
          ดังนั้น เพื่อให้การดำเนินงานบรรลุตามวัตถุประสงค์ที่วางไว้ จึงขออนุมัติใช้งบประมาณเป็นเงินทั้งสิ้น
          {{proposalData.data.budgetsummary}} บาท
          ( {{proposalData.data.budgetsummarytext}} )เพื่อดำเนินงานในปีงบประมาณ พ.ศ.2563 ตามรายละเอียดแนบท้ายนี้
        </p>
        <p class="text-indent">
          จึงเรียนมาเพื่อโปรดพิจารณาอนุมัติ
        </p>
      </div>
    </div>

    <div fxLayout="row" fxLayoutAlign="end">
      <div fxFlex="40">
        <p>( นางสาวนุชจนาถ ชูบัว )</p>
        <p class="pl-20">
          ผปผ.ลธ.
        </p>
      </div>
    </div>
    <div fxLayout="row" fxLayoutAlign="center">
      <div fxFlex="20" fxLayoutAlign="end">
        <p>ผ่าน</p>
      </div>
      <div fxFlex="60" fxLayoutAlign="center">
        <p>อนุมัติ</p>
      </div>
    </div>

    <div fxLayout="row" fxLayoutAlign="center">
      <div fxFlex="30" >
        <p>( นางสาวยุคล นุมาศ )</p>
        <p>ผอ.สลธ.</p>
      </div>
      <div fxFlex="30" >
        <p>( นายสมเกียรติ ประจำวงษ์ )</p>
        <p>ลธน.</p>
      </div>
    </div>
    <!-- <div fxLayout="row" fxLayoutAlign="center">
      <div fxFlex="20" fxLayoutAlign="end">
        <p>ผอ.สลธ.</p>
      </div>
      <div fxFlex="50" fxLayoutAlign="center">
        <p>ลธน.</p>
      </div>
    </div> -->
  </div>


  <div fxLayout="row wrap" class="containerfile">
    <div fxFlex="20" fxLayoutAlign="center" class="single-file" *ngFor="let file of files; let i = index">
      <img *ngIf="file.type === 'application/pdf'" src="https://image.flaticon.com/icons/svg/136/136522.svg"
        width="45px" alt="file">
      <img *ngIf="file.type === 'application/doc'" src="https://image.flaticon.com/icons/svg/136/136521.svg"
        width="45px" alt="file">
      <img *ngIf="file.type === 'application/zip'" src="https://image.flaticon.com/icons/svg/136/136544.svg"
        width="45px" alt="file">
      <img *ngIf="file.type === 'image/jpeg'" src="https://image.flaticon.com/icons/svg/35/35896.svg" width="45px"
        alt="file">
      <img *ngIf="file.type === 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'"
        src="https://image.flaticon.com/icons/svg/136/136532.svg" width="45px" alt="file">
      <img *ngIf="file.type === 'application/vnd.ms-excel'" src="https://image.flaticon.com/icons/svg/136/136532.svg"
        width="45px" alt="file">
      <img *ngIf="!file.type" src="https://image.flaticon.com/icons/svg/136/136549.svg" width="45px" alt="file">

      <h4 class="text-container">
        {{ file.name }}
      </h4>
      <div>
        <img src="https://image.flaticon.com/icons/svg/753/753345.svg" class="delete" width="20px" alt="file"
          (click)="deleteFile()">
      </div>
    </div>

  </div>
  <div class="container" appDnd (fileDropped)="onFileDropped($event)">
    <input type="file" #fileDropRef id="fileDropRef" multiple (change)="fileBrowseHandler($event.target.files)" />
    <img class="imguplode" src="https://image.flaticon.com/icons/svg/25/25635.svg">
    <h3>ลากวางไฟล์ที่นี่</h3>
    <h3>หรือ</h3>
    <label for="fileDropRef">คลิกอัพโหลดเพื่อแนบไฟล์</label>
  </div>
</div>