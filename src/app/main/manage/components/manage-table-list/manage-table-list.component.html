<div class="content-card">
  <div class="content">
    <ngx-datatable #table class="material fullscreen" [columnMode]="'flex'" [headerHeight]="64" [footerHeight]="64"
      rowHeight="auto" scrollbarH="true" [limit]="10" [rows]="rows">
      <ngx-datatable-column name="ปีงบประมาณ" [flexGrow]="1.5">
        <ng-template ngx-datatable-cell-template let-row="row">
          {{ row.budgetyear }}
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column name="จำนวนโครงการ" [flexGrow]="1.5">
        <ng-template ngx-datatable-cell-template let-row="row">
          {{ row.projects | number }}
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column name="งบบุคคลากร" [flexGrow]="1.5">
        <ng-template ngx-datatable-cell-template let-row="row">
          {{ row.pb | number }}
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column name="งบดำเนินการ" [flexGrow]="1.5">
        <ng-template ngx-datatable-cell-template let-row="row">
          {{ row.ab | number }}
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column name="งบลงทุน" [flexGrow]="1.5">
        <ng-template ngx-datatable-cell-template let-row="row">
          {{ row.ib | number }}
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column name="งบรายจ่ายอื่นๆ" [flexGrow]="1.5">
        <ng-template ngx-datatable-cell-template let-row="row">
          {{ row.ob | number }}
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column name="งบประมาณในปี" [flexGrow]="1.5">
        <ng-template ngx-datatable-cell-template let-row="row">
          {{ row.budgetinyear | number }}
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column name="งบประมาณผูกพันข้ามปี" [flexGrow]="1.5">
        <ng-template ngx-datatable-cell-template let-row="row">
          {{ row.budgetotheryear | number }}
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column name="งบประมาณรวม" [flexGrow]="1.5">
        <ng-template ngx-datatable-cell-template let-row="row">
          {{ row.budgetsummary | number }}
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column name="สถานะ" [flexGrow]="2">
        <ng-template ngx-datatable-cell-template let-row="row">
          {{ row.status }}
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column [flexGrow]="1">
        <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" >
          <button class="mat-icon-button" aria-label="More" [matMenuTriggerFor]="moreMenu"
            (click)="$event.stopPropagation()">
            <mat-icon class="secondary-text">more_vert</mat-icon>
          </button>

          <mat-menu #moreMenu>
            <button mat-menu-item aria-label="edit"  (click)="editProposalData('edit', rowIndex)">
              <mat-icon>edit</mat-icon>
              <span>ดูรายละเอียด</span>
            </button>
            <button mat-menu-item aria-label="edit" (click)="editProposalData('send', rowIndex)">
              <mat-icon>send</mat-icon>
              <span>ส่ง สงป</span>
            </button>
          </mat-menu>
        </ng-template>
      </ngx-datatable-column>
    </ngx-datatable>
  </div>
</div>